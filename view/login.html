
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录页面</title>
    <script src="static/jquery/jquery-3.5.1.min.js"></script>
</head>
<body>

<div class="login-container">
    <p>账号：<input type="text" id="account"></p>
    <p>密码：<input type="password" id="password"></p>
    <p><input type="button" id="submit" value="登录"></p>
</div>

<script type="text/javascript">
    document.getElementById('submit').addEventListener('click', function() {
        var account = $('#account').val();
        var password = $('#password').val();
        if (!account) {
            alert('账号不能为空');
            return;
        }
        if (!password) {
            alert('密码不能为空');
            return;
        }
        var obj = {account: account, password: password};
        $.ajax({
            type: "post",
            async: false,
            data: JSON.stringify(obj),
            url: "/index/login",
            dataType: "json",
            contentType: "application/json;charset=UTF-8",
            success: function(result) {
                if (result.code == 200) {
                    window.location.href = "commodityList.html";
                } else {
                    alert(result.msg);
                }
            }
        });
    });
</script>

</body>
</html>


